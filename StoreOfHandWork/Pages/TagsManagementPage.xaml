<?xml version="1.0" encoding="utf-8"?>
<Page x:Class="StoreOfHandWork.Pages.TagsManagementPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      Title="Управление тегами">

    <Grid Margin="20">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="300"/>
        </Grid.ColumnDefinitions>

        <!-- Левая часть - список тегов -->
        <Grid Grid.Column="0" Margin="0,0,20,0">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <TextBlock Text="Список тегов" 
                       FontSize="18" 
                       FontWeight="SemiBold" 
                       Margin="0,0,0,10"/>

            <DataGrid x:Name="TagsDataGrid" 
                      Grid.Row="1" 
                      AutoGenerateColumns="False" 
                      IsReadOnly="True"
                      CanUserAddRows="False"
                      Background="White"
                      BorderBrush="#ddd"
                      BorderThickness="1"
                      RowBackground="White"
                      AlternatingRowBackground="#f9f9f9">
                <DataGrid.Columns>
                    <DataGridTextColumn Header="ID" Binding="{Binding Id}" Width="50"/>
                    <DataGridTextColumn Header="Название" Binding="{Binding Name}" Width="*"/>
                    <DataGridTextColumn Header="Кол-во товаров" Binding="{Binding Products.Count}" Width="120"/>
                    <DataGridTemplateColumn Header="Действия" Width="120">
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <StackPanel Orientation="Horizontal">
                                    <Button Content="✏" 
                                            Background="#3498db" 
                                            Foreground="White" 
                                            BorderThickness="0"
                                            Margin="2" 
                                            Padding="8,2" 
                                            Click="EditTag_Click"
                                            Tag="{Binding}"/>
                                    <Button Content="✖" 
                                            Background="#e74c3c" 
                                            Foreground="White" 
                                            BorderThickness="0"
                                            Margin="2" 
                                            Padding="8,2"
                                            Click="DeleteTag_Click"
                                            Tag="{Binding}"/>
                                </StackPanel>
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>
                </DataGrid.Columns>
            </DataGrid>
        </Grid>

        <!-- Правая часть - форма добавления/редактирования -->
        <Border Grid.Column="1" 
                Background="White" 
                BorderBrush="#ddd" 
                BorderThickness="1" 
                Padding="15">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <TextBlock x:Name="FormTitleTextBlock"
                           Text="Добавить новый тег" 
                           FontSize="16" 
                           FontWeight="SemiBold" 
                           Margin="0,0,0,15"/>

                <StackPanel Grid.Row="1" Margin="0,0,0,15">
                    <TextBlock Text="Название тега:" Margin="0,0,0,5"/>
                    <TextBox x:Name="TagNameTextBox" 
                             Height="30" 
                             Padding="5"/>
                </StackPanel>

                <StackPanel Grid.Row="2" 
                            Orientation="Horizontal" 
                            HorizontalAlignment="Right">
                    <Button x:Name="CancelButton" 
                            Content="Отмена" 
                            Width="80" 
                            Height="30" 
                            Margin="0,0,10,0"
                            Background="#95a5a6"
                            Foreground="White"
                            BorderThickness="0"
                            Click="CancelButton_Click"/>
                    <Button x:Name="SaveButton" 
                            Content="Сохранить" 
                            Width="80" 
                            Height="30"
                            Background="#3498db"
                            Foreground="White"
                            BorderThickness="0"
                            Click="SaveButton_Click"/>
                </StackPanel>
            </Grid>
        </Border>
    </Grid>
</Page>
